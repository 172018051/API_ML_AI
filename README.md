# 项目名： 一封有声音的信   

> PRD 价值主张设计（目标：多层次多长度版本）
> 1. 一句话版本<br>有声信运用讯飞AI的人工智能语音识别技术，用户需输入1分钟的语音，语音识别后排版为信的格式，最后将语音与文字相结合输出一封有声音的信，支持图文编辑，同时辅以交互的UI设计，最大程度的保留故事与模拟时间给书信带来的痕迹(发黄、变旧)。  
> 2. 一分钟60s版本 (图文线上可阅读含可查连结)<br>有声信可以从一定程度上取代书信的留念价值。有声信运用讯飞AI的人工智能语音识别技术，用户需输入1分钟的语音，有声信可以将语音转换为文字并排版为信的格式，最后将语音与文字相结合输出一封有声音的信，支持图文编辑，同时辅以交互的UI设计，最大程度的保留故事与模拟时间给书信带来的痕迹(发黄、变旧)。不需要传统的书写，只需语音输入，以界面的变化与录音者的声音取代书信的留念价值。
> 3. [400 秒版本 Pecha Kucha 20x20 版本](https://github.com/172018051/API_ML_AI/blob/master/%E6%9C%89%E5%A3%B0%E4%BF%A1APP.pptx) (线上投影片含可查连结)<br>






|发布日期|2019/12/xx|   
|  ----  |  ----  | 
|产品名称|有声信APP|     
|文件状态|已完成|   
|文档所有者|陈咏琴|   
|设计师|陈咏琴|   
|开发人员|陈咏琴|    

## 文档目录

- [产品介绍](#产品介绍)
- [项目背景](#项目背景)
- [价值主张设计](#价值主张设计)
  - [加值宣言](#PRD1.加值宣言)
  - [核心价值宣言](#PRD2.核心价值宣言)
  - [核心价值与用户痛点](#PRD3.核心价值与用户痛点)
  - [人工智能概率性与用户痛点](#PRD4.人工智能概率性与用户痛点)
  - [需求列表与人工智能API加值](#PRD5.需求列表与人工智能API加值)
- [原型](#原型)
  - [交互及界面设计](#原型1.交互及界面设计)
  - [信息设计](#原型2.信息设计)
  - [原型文档](#原型3.原型文档])
  - [口头操作说明](#原型4.口头操作说明)
- [API 产品使用关键AI或机器学习之API的输出入展示](#API-产品使用关键AI或机器学习之API的输出入展示)
  - [使用水平](#API1.使用水平)
  - [使用比较分析](#API2.使用比较分析)
  - [使用后风险报告](#API3.使用后风险报告)
  - [加分项](#API4.加分项)      

---   
# 有声信APP产品需求文档       
### 产品介绍：  
有声信运用百度AI（讯飞）的人工智能语音识别技术，用户需输入1分钟的语音，有声信可以将语音转换为文字并排版为信的格式，最后将语音与文字相结合输出一封有声音的信，支持图文编辑，同时辅以交互的UI设计，最大程度的保留故事与模拟时间给书信带来的痕迹(发黄、变旧)。

### 项目背景：     
传统的书信已经越来越少人写了，虽然书信的价值相较于手机短信而言依然更加受到人们重视与认可，但是所有事物都不得不随时代的发展而变化，因为短信比信件的效率快的多得多，所以很快就取代了书信，毕竟书信最重要作用就是用来传递信息的，而不是用来留作纪念。    
**手写的信件让大家认为更有价值的原因是：**     
* 信件因为时间的流逝而产生的痕迹，发黄、变皱、变旧。   
* 因为故事，一看到这封信就能瞬间回到过去，万千思绪涌，因为这张纸在从前当下被人认真对待，一笔一字的写下文字。   

### 产品亮点（优势）：    
有声信可以以别的方式来弥补用户对于书信的期待，运用人工智能**语音识别**技术，将语音与文字相结合做出一封有声音的书信，同时辅以**交互的UI设计**，最大程度的**保留故事**与**模拟时间给书信带来的痕迹**。这是有声信可以给用户带来的价值。
    
## PRD 价值主张设计   
  
### PRD1.加值宣言     
- 通过人工智能的语音识别技术，将说话者的语音转为文字，同时保留音频，将文字自动排版为信的格式。添加纠错机制，可编辑，可添加图片。   
- 通过自然语言处理API的词法分析，将文字内容进行分词、词性标注、命名实体识别。将返回的结果用pyecharts绘制出文字云。可分享，可做表，统计可交互。     
- 可保存为文档，可打印，旁边附上二维码，使用APP内附扫码工具，扫描二维码即可跳转到语音输入后生成的页面，可以边听边看的信    
可以将信送给别人，也可以邀请别人做这封信   
不需要传统的书写，只需语音输入。
相较于传统书信，情感更加丰富。 
不需要如书写信一样非常正式   
- 界面的交互，随着时间流逝，查看信的界面会发生变化，变黄、变旧。
### PRD2.核心价值      

最小可行性产品MVP：   
  1. 通过语音识别，做出一封有声音的信❤（留念）创作你的有声信    
  2.界面的交互，随着时间流逝，查看信的界面会发生变化，变黄、变旧。   

次重要：
  1. 自然语言处理，把词变成图，可分享（社交）   
  2. 可转为文档文件，可打印实体化（附语音二维码）   

### PRD3.核心价值与用户痛点        
**用户痛点**        
- 如何记录当下，留念。    
- 有意义的纪念品（手写信的取代品，便捷但有价值的。除纪念品之外，可选择的一个象征物，对方的声音）      
- 可分享的，社交。     
- 对于更喜欢单纯用文字表达的用户，可自由选择语音输入或者文字输入，可添加背景音乐。      

**有声信如何弥补用户对于书信的期待：**           
* 信件因为时间的流逝而产生痕迹，发黄、变皱、变旧。（对应交互的UI设计）       
* 因为故事，一看到这封信就能瞬间回到过去，万千思绪涌上。因为这张纸在从前当下被人认真对待，一笔一字的写下文字。（创造价值，留下你的故事。音频输入，认真的编辑，添加图片、信封样式选择等）    

用有声的信件取代手写字迹给信带来的故事（声音就像时光机一样，播放按钮就是开启时光机的按钮，当时当下，你或者他，语气、语调、情感，这都是故事，可替换手写的意义），交互的样式设计取代信件信件的时间痕迹，发黄变旧。 随着时间的流逝，查看信件的界面样式也像书信一样变得发黄、老旧。   

**应用场景：**         
大学毕业季，小红发送了一个链接，邀请朋友、老师、家长留下对自己的毕业赠言，一分钟祝福。   

生日聚会上，寿星小红和小绿在聚会上放声歌唱，谈天说地，席间小绿使用有声信APP记录了朋友们对小红的生日留言。    
   


### PRD4.人工智能概率性与用户痛点    
百度语音识别：   
采用领先国际的流式端到端语音语言一体化建模方法，融合百度自然语言处理技术，**近场中文普通话识别准确率达98%**   
讯飞语音听写：    
讯飞开放平台拥有先进的语音识别技术，核心技术达到先进水平，语音识别准确率已经达到实用标准。语音听写使用超大规模的语言模型，对识别结果语句智能预测其对话语境，提供智能断句和标点符号的预测。   
市面上有不少语音识别功能的应用被大量用户使用中，例如讯飞，用户在输入语音后，语音识别转换为文字，用户可编辑。   

### PRD5.需求列表与人工智能API加值    
 

用户需求列表（重要程度降序）：       

|用户需求|功能（核心价值 ）|重要程度|进度|     
|-----|-----|-----|-----|
|记录当下，留念|语音识别（输入语言转文字）|非常重要|做|      
|有意义的纪念品|音频播放、交互的界面（留言者的声音）|非常重要|做|      
|社交|邀请留言、存为文档|重要|做|     
|社交，游戏|自然语言处理词法分析、pyecharts文字云|次重要|暂时不做|     


 
## 原型    
#### 产品架构图      
![产品架构图.png](https://upload-images.jianshu.io/upload_images/11043770-3b6fc257957c7a94.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)<br><br>
### 原型1.交互及界面设计    
这是进入有声信APP的首界面。   
![首界面](https://upload-images.jianshu.io/upload_images/11043770-7523bb020a201ca7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)    <br><br>

运用人工智能语音识别技术，将音频转为文字，同时有录音与保存音频的功能，在查看信界面可边看文字与边听音频。   <br>
![语音识别加值1](https://upload-images.jianshu.io/upload_images/11043770-0ffcc65ef86b3f89.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)   <br><br>

可保存为文档，可打印，旁边附上二维码，使用APP内附扫码工具，扫描二维码即可跳转到语音输入后生成的页面，可以边听边看的信。    <br>
![语音识别加值2.png](https://upload-images.jianshu.io/upload_images/11043770-8a879c1329eee2b4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)   <br><br>

随着时间流逝，查看信的界面会发生变化，变黄、变旧。<br>
![交互的界面](https://upload-images.jianshu.io/upload_images/11043770-afdfda5d2b59faa9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)<br><br>


交互及界面设计：在PRD文件中是否有说明且原型是否有做到：交互及界面设计的某个核心交互环节使用了人工智能的加值

### 原型2.信息设计 



可导出信为不同格式的文档，可打印，旁边附上二维码。<br>
![导出为文档](https://upload-images.jianshu.io/upload_images/11043770-4cdc9720d0b229fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)<br><br>

可设置有声信APP界面样式，满足用户不同的审美需求。<br>
![设置界面颜色](https://upload-images.jianshu.io/upload_images/11043770-80348eae8cc2ef2d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)<br><br>
   
信息设计：在PRD文件中是否有说明且原型是否有做到：信息设计的某个核心信息或设计使用了人工智能的加值

### 原型3.原型文档 
![icon](https://upload-images.jianshu.io/upload_images/11043770-b4aa0e1f16f8fa9d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
### [有声信APP原型文档](https://172018051.github.io/API_ML_AI/.)  
原型文档已全部放在github上，欢迎大家查看。  

### 原型4.口头操作说明 
#### 如何用有声信APP做一封有声音的信：   
用户点击有声信APP的麦克风图标，可以选择现在录音或者是以链接分享给友人邀请他们录音。录音可以说任何你想说的话，对自己或者对某人的祝福，调侃，录音时间在1min之内，录音结束后就可以查看通过语音识别技术转为文字的信，包括你刚刚的录音。你也可以编辑信的内容，添加图片等。
#### 如何查看纸质版上的音频：   
用户点击我的-扫一扫，扫面纸质版信上的二维码，即可跳转到这封信的查看界面，选择保存为我的信，就可以一边看信一边收听音频。


---   
## API 产品使用关键AI或[机器学习](http://e.nfu.edu.cn/mod/page/view.php?id=1135 "机器学习")之API的输出入展示   

### API1.使用水平   
因为语音识别有一定的音频格式范围，因此必须有音频格式转换的工具，这里推荐[ffmpeg](http://ffmpeg.org/download.html)，可参考百度的开发工具[音频文件转码](https://ai.baidu.com/ai-doc/SPEECH/7k38lxpwf#%E7%AE%80%E4%BB%8B-1)查看相关介绍。


使用水平：在PRD文件中是否有说明且展示，核心功能所应用的API之输入及输出
[百度AI语音识别]([https://ai.baidu.com/tech/speech](https://ai.baidu.com/tech/speech)
)：   

输入：   
```
from aip import AipSpeech

""" 你的 APPID AK SK """
APP_ID = '18090119'
API_KEY = 'YtE6uqVodwVwr9zCW0sPjqrH'
SECRET_KEY = 'RGzlYQaeApOcXKmyjRfeKLEV02lKDlvn'

client = AipSpeech(APP_ID, API_KEY, SECRET_KEY)

# 读取文件
def get_file_content(filePath):
    with open(filePath, 'rb') as fp:
        return fp.read()

# 识别本地文件
client.asr(get_file_content('16k.pcm'), 'pcm', 16000, {
    'dev_pid': 1536,
})
```
输出：
```
{'corpus_no': '6773611276171315400',
 'err_msg': 'success.',
 'err_no': 0,
 'result': ['北京科技馆'],
 'sn': '726787071901577104272'}
```
讯飞AI语音听写：   
![讯飞语音听写](https://upload-images.jianshu.io/upload_images/11043770-9581753eb4f7bbe0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)   <br><br>

游戏化设计：（暂时不做）   
自然语言处理
语音识别将1min的语音转换为文字，再通过自然语言处理的词法分析将文字内容进行分词、词性标注、命名实体识别。将返回的结果用pyecharts绘制出文字云。（形容词）。我查看了百度AI所有的自然语言处理API，其中最适合与能达到功能需求的是词法分析。   

### API2.使用比较分析    
百度AI语音识别输入要求格式的音频文件：
* pcm（不压缩），也称为raw格式。音频输入最原始的格式，不用再解码。
* wav（不压缩，pcm编码）：在pcm文件的开头出上加上一个描述采样率，编码等信息的字节。
* amr（有损压缩格式），对音频数据进行有损压缩，类似mp3文件。
* m4a（有损压缩格式，AAC编码），对音频数据进行有损压缩，通常仅供微信小程序使用的格式。自行转换比较复杂。   
**由于底层识别使用的是pcm，因此推荐直接上传pcm文件。如果上传其它格式，会在服务器端转码成pcm，调用接口的耗时会增加。**

[讯飞语音]([https://www.xfyun.cn/doc/asr/voicedictation/Audio.html#%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7ffmpeg](https://www.xfyun.cn/doc/asr/voicedictation/Audio.html#%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7ffmpeg)
)能力一般情况下支持如下音频格式：
* pcm（pcm_s16le），wav，speex(speex-wb)，推荐使用pcm   
* 采样率为16000 或者 8000. 推荐使用16000，比特率为16bit   
* 单声道   
建议您自行下载Cool Edit Pro软件查看音频格式是否符合要求。   

|百度AI语音识别支持的格式|百度AI语音识别支持的格式|
|----|-----|
|pcm（不压缩）|pcm（pcm_s16le）|
|wav（不压缩，pcm编码）|wav，speex(speex-wb)|
|amr（有损压缩格式）|单声道|
|m4a（有损压缩格式，AAC编码）|采样率为16000 或者 8000|   

不管是讯飞还是百度AI都推荐使用pmc格式的音频文件与[ffmpeg](http://ffmpeg.org/download.html)音频转换工具。  

**语音识别计费简介**   
百度AI语音识别：
语音识别目前有语音识别标准版（包含输入法、搜索、英语、粤语、四川话、远场）及语音识别极速版接口。
使用短语音识别。
*   语音识别标准版：可按天/月/年购买提升QPS。
*   语音识别极速版：按调用量计费，前5万次调用免费。默认为限额为5QPS，开通付费后限额提升至50QPS（[可申请提升](https://cloud.baidu.com/survey/AICooperativeConsultingApply.html) ）。根据实际调用的次数，系统每小时会对您的百度云账户进行扣费。用多少付多少。根据月累计调用量，可自动享受阶梯折扣。同时，可购买预付次数包。购买后一年内有效，价格更优惠。

讯飞AI语音听写： 
![语音听写收费](https://upload-images.jianshu.io/upload_images/11043770-69e97d65b78cd11e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)   

综上，选择讯飞的语音听写API会性价比更高。

### API3.使用后风险报告   

未来市场可观，而语音识别仍需“做事”   
核心技术突破点：   
- 对象识别的准确性   
- 周边环境的干扰   
参看文献：   
[语音识别：市场前景可观，但核心技术仍需突破](https://yq.aliyun.com/articles/584773)   
[2018年智能语音行业发展现状及趋势分析 中国市场发展机遇与挑战并存](https://bg.qianzhan.com/report/detail/459/190203-4d8a0a01.html)




### API4.加分项   

语音识别、词法分析

